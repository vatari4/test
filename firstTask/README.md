# firstTask

Тестовое задание — простое REST API на FastAPI с архитектурой Clean Architecture для работы с героями (Heroes), интегрированное с внешним Superhero API.

---

## Структура проекта

```
firstTask/
├── src/
│   ├── api/
│   │   ├── __init__.py
│   │   └── hero_api.py            # Роуты FastAPI (эндпоинты)
│   ├── controller/
│   │   ├── __init__.py
│   │   └── hero_controller.py     # Логика контроллера, обработка запросов
│   ├── usecase/
│   │   ├── __init__.py
│   │   └── hero_usecase.py        # Бизнес-логика (use cases), интеграция с superheroapi.com
│   ├── models/
│   │   ├── __init__.py
│   │   ├── hero.py                # Модель Hero (SQLAlchemy)
│   │   └── db.py                  # Конфигурация базы, сессия, подключения
│   └── main.py                    # Точка входа, запуск FastAPI приложения
├── tests/
│   ├── __init__.py
│   └── test_routes.py
├── .env                          # Конфигурация окружения (ключи, база)
├── .env.example                  # Пример файла окружения
├── docker-compose.yml            # Сервис с БД Postgres и приложением
├── Dockerfile                    # Докер образ приложения
└── requirements.txt              # Зависимости Python

```

---

## Требования

- Docker и Docker Compose  
- Python 3.9 (если запускать локально без докера)

---

## Запуск проекта

1. Создай файл `.env` на основе `.env.example` и пропиши настройки подключения к БД:

2. Запусти контейнеры:

```bash
docker-compose up --build
```

3. После запуска приложение будет доступно по адресу:

```
http://localhost:8000
```

---

## API и документация

Добавление героя в базу (через внешний API):

- **GET** `/hero/` — получить список героев с возможностью фильтрации по параметрам:
  - `name ` (опционально) — имя героя
  - `intelligence ` (опционально) — уровень интеллекта
  - `strength` (опционально) — сила
  - `speed ` (опционально) — скорость
  - `power` (опционально) — мощь
---
- **POST** `/task` — добавить героя по имени из внешнего Superhero API и сохранить в базу
В теле запроса передаётся JSON с полем:
  - `name` (строка) — имя героя, например "Batman"
---

## Документация Swagger UI

Интерактивная документация доступна по адресу:

```
http://localhost:8000/docs
```

Там можно:

- Просмотреть структуру запросов и ответов (включая пример JSON для создания задачи)
- Отправить запросы на создание и получение задач прямо из браузера

---

## Тело запроса JSON с именем героя:

```json
{
  "name": "Batman"
}
```
## Запуск тестов
```
pytest tests
```
---

## Контакты и поддержка

Если возникнут вопросы или предложения — открывай issue в репозитории или пиши напрямую.
